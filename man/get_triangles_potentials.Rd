% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/statistical_potential.R
\name{get_triangles_potentials}
\alias{get_triangles_potentials}
\title{Compute triangle-based interaction potentials}
\usage{
get_triangles_potentials(df_contacts, base_side, col_id, split_col_id)
}
\arguments{
\item{df_contacts}{A `data.table` containing contact information and
Cartesian coordinates for the residues involved.}

\item{base_side}{Character string, `"ab"` or `"ag"`, selecting which residue
pair (from antibody or antigen) forms the base of the triangle.}

\item{col_id}{Character string; the column used to identify distinct models
or structural units (e.g., `"pdb_id"`).}

\item{split_col_id}{Logical.
- If `FALSE`, triangles are computed using all rows together.
- If `TRUE`, triangles are computed separately for each unique value in `col_id`.}
}
\value{
A `data.table` with two columns:
  - `col_id`: model identifier
  - `score`: sum of log-potentials for all triangles in that model
}
\description{
For each structure or model, this function identifies all residue triangles
formed by an antibody-antigen base pair and a third residue. The function
matches these triangles against a reference table of triangle potentials
and returns the total log-potential score for the interactions.
}
\details{
The function:
1. Generates antibody-antigen residue triangles using `get_triangles()`.
2. Splits residue identifiers and filters to standard 20 amino acids.
3. Normalizes base residue order (alphabetical).
4. Builds triangle keys and merges them with the reference potential tables
   (`df_triang_ab` or `df_triang_ag`).
5. Sums log-potentials per model.
}
\seealso{
`get_triangles()` â€” geometric triangle construction (internal)
}
